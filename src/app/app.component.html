<div class="header">
  <div class="logo">
    <svg width="300" height="80" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 80">
      <rect width="300" height="80" fill="none"/>
      <g transform="translate(20, 20)">
        <!-- Detailed Shopping Cart Icon -->
        <path d="M0 0h4l4 8h48l6-8h4l-8 20h-52l-6-20z" fill="#000000"/>
        <circle cx="14" cy="30" r="5" fill="#000000"/>
        <circle cx="50" cy="30" r="5" fill="#000000"/>
        <!-- Text -->
        <text x="90" y="30" font-family="Arial" font-size="32" font-weight="bold" fill="#000000">ShopEasy</text>
      </g>
    </svg>
  </div>
  <div class="right-section">
    <div class="search-bar">
      <input type="text" placeholder="Search for products..." [(ngModel)]="searchQuery">
      <button class="primary" type="button" (click)="search()">Search</button>
    </div>
    <div class="home-link">
      <a [routerLink]="['/products']">
        <i class="fa-solid fa-house"></i>
      </a>
    </div>
    <div class="cart-link">
      <button (click)="toggleCart()" class="cart-toggle-btn">
        <i class="fa-solid fa-cart-shopping"></i>
      </button>
    </div>
    <div class="admin-link">
      <a [routerLink]="['/admin']">
        <i class="fa-solid fa-gears"></i>
      </a>
    </div>
    <div class="user-menu">
      <div class="user-icon" (click)="toggleUserMenu()">
        <i class="fa-solid fa-user"></i>
        <span>{{ userName }}</span>
      </div>
      <div class="dropdown-menu" *ngIf="isUserMenuOpen">
        <p>{{ userEmail }}</p>
        <button (click)="logout()">Logout</button>
      </div>
    </div>
  </div>
</div>

<!-- Sliding Cart -->
<div class="cart-container" [class.open]="cartOpen">
  <button (click)="toggleCart()" class="back-arrow-btn">
    <i class="fa-solid fa-arrow-left"></i> Back
  </button>
  <h2>Your Shopping Cart</h2>
  <div *ngIf="cartItems.length === 0">
    <p>Your cart is empty.</p>
  </div>
  <div *ngIf="cartItems.length > 0">
    <div class="cart-item" *ngFor="let item of cartItems">
      <img [src]="item.imageUrl" [alt]="item.name" class="cart-item__image">
      <div class="cart-item__details">
        <h3>{{ item.name }}</h3>
        <p>Quality: {{ item.categoryQuality }}</p>
        <p>Price: {{ item.price | currency:'USD' }}</p>
      </div>
      <button (click)="removeFromCart(item.id)" class="btn btn-danger">Remove from Cart</button>
    </div>
    <button (click)="clearCart()" class="btn btn-warning">Clear Cart</button>
  </div>
</div>

<div class="main-container">
  <router-outlet></router-outlet>
</div>
